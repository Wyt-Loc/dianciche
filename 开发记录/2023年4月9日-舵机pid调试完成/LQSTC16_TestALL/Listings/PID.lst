C251 COMPILER V5.60.0,  PID                                                                09/04/23  13:51:28  PAGE 1   


C251 COMPILER V5.60.0, COMPILATION OF MODULE PID
OBJECT MODULE PLACED IN .\Objects\PID.obj
COMPILER INVOKED BY: F:\MDK\C251\BIN\C251.EXE user\PID.c LARGE INTR2 BROWSE INCDIR(.\user;.\LQlib\app;.\LQlib\driver) DE
                    -BUG PRINT(.\Listings\PID.lst) TABS(2) OBJECT(.\Objects\PID.obj) 

stmt  level    source

    1          #include "PID.h"
    2          
    3          
    4          
    5          //位置式PID初始化  用于舵机控制
    6          void PidInit_wz(pid_param_t * pid)
    7          {
    8   1          pid->kp        = 0.08f;  //比例调节
    9   1          pid->ki        = 0;     
   10   1          pid->kd        = 0.08f;     //越大反应越快
   11   1          pid->imax      = 0;     
   12   1          pid->out_p     = 0;     
   13   1          pid->out_i     = 0;     
   14   1          pid->out_d     = 0;
   15   1          pid->out       = 0;
   16   1          pid->integrator= 0;
   17   1          pid->last_error= 0;
   18   1          pid->last_derivative = 0;
   19   1          pid->last_t    = 0;
   20   1      }
   21          
   22          
   23          float PidLocCtrl_wz(pid_param_t * pid, float error)
   24          {
   25   1        
   26   1        pid->out_p = pid->kp * error;       // Kp * 误差 + KD * 本次误差 与 上次的差
   27   1        pid->out_d = pid->kd * (error - pid->last_error);
   28   1        pid->last_error = error;
   29   1      
   30   1        pid->out = pid->out_p + pid->out_d;
   31   1      
   32   1        return pid->out;
   33   1        
   34   1      }
   35          
   36          


Module Information          Static   Overlayable
------------------------------------------------
  code size            =       218     ------
  ecode size           =    ------     ------
  data size            =    ------     ------
  idata size           =    ------     ------
  pdata size           =    ------     ------
  xdata size           =    ------     ------
  xdata-const size     =    ------     ------
  edata size           =    ------     ------
  bit size             =    ------     ------
  ebit size            =    ------     ------
  bitaddressable size  =    ------     ------
  ebitaddressable size =    ------     ------
  far data size        =    ------     ------
  huge data size       =    ------     ------
  const size           =    ------     ------
  hconst size          =    ------     ------
End of Module Information.


C251 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
